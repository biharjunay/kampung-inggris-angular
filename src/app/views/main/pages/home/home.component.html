<div class="px-3 px-md-5 py-3">
  <div id="header" class="rounded-4 position-relative overflow-hidden"
    [ngStyle]="{background: 'url(' + (heroData.header_image?.image_url| imageUrl) +')'}">
    <div class="position-absolute w-100 h-100"></div>
    <div class="row h-100 position-relative p-4">
      <div class="col-md-6 text-white d-flex flex-column justify-content-center align-items-start">
        <h1 class="fw-bold">Kampung Inggris WE <br> Exclusive English Course</h1>
        <p>Kampung Inggris WE memiliki program-program unggulan yang dapat di akses baik offline maupun online</p>
        <button class="btn btn-outline-light px-5 rounded-3" routerLink="/" fragment="program">Explore
          Course</button>
      </div>
    </div>
  </div>

  <div class="row mt-5">
    <div class="col-md-6 mb-3 d-flex flex-column border-end" style="border-width: 2px !important;">
      <p class="text-uppercase">welcome to WE English</p>
      <h3 class="my-5">{{heroData.text_left?.value}}</h3>
      <a class="text-dark text-uppercase">learn more</a>
    </div>
    <div class="col-md-6 mb-3 d-flex align-items-center">
      <p class="ms-0 ms-md-3">{{heroData.text_right?.value}}</p>
    </div>
  </div>


  <div class="mt-5">
    <h5 class="fw-bold text-center">Trusted by over 10+ companies around the world and growing</h5>
    <div class="brand-slider-container mt-5">
      <div class="brand-slider">
        <img *ngFor="let item of brandData" class="brand-logo" [src]="item.image_url | imageUrl" alt="brand" width="172"
          height="42" />
      </div>
      <div class="brand-slider">
        <img *ngFor="let item of brandData" class="brand-logo" [src]="item.image_url | imageUrl" alt="brand" width="172"
          height="42" />
      </div>
      <div class="brand-slider">
        <img *ngFor="let item of brandData" class="brand-logo" [src]="item.image_url | imageUrl" alt="brand" width="172"
          height="42" />
      </div>
      <div class="brand-slider">
        <img *ngFor="let item of brandData" class="brand-logo" [src]="item.image_url | imageUrl" alt="brand" width="172"
          height="42" />
      </div>
    </div>

  </div>

  <div class="mt-5" id="program">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h6 class="fw-bold">Program Offline</h6>
      <div class="d-flex gap-3 d-sm-none">
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(false, carouselOnline)">
          <i class="fas fa-angle-left"></i>
        </button>
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(true, carouselOnline)">
          <i class="fas fa-angle-right"></i>
        </button>
      </div>
    </div>
    <div class="d-flex align-items-center gap-3">
      <div class="d-none d-sm-block">
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(false, carouselOnline)">
          <i class="fas fa-angle-left"></i>
        </button>
      </div>
      <div id="carousel" class="overflow-hidden flex-grow-1" #carouselOnline>
        <div class="d-flex gap-0 gap-sm-4">
          @if (loading) {
          @for (item of [1,2,3,4]; track item) {
          <app-program-loading></app-program-loading>
          }
          } @else {
          @for (item of offlineProgramData; track $index) {
          <span class="carousel-card">
            <app-program-card [data]="item" (clickDetail)="seeDetail($event)"></app-program-card>
          </span>
          }
          }
        </div>
      </div>
      <div class="d-none d-sm-block">
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(true, carouselOnline)">
          <i class="fas fa-angle-right"></i>
        </button>
      </div>
    </div>
  </div>

  <div class="mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h6 class="fw-bold">Program Online</h6>
      <div class="d-flex gap-3 d-sm-none">
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(false, carouselOffline)">
          <i class="fas fa-angle-left"></i>
        </button>
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(true, carouselOffline)">
          <i class="fas fa-angle-right"></i>
        </button>
      </div>
    </div>

    <div class="d-flex align-items-center gap-3">
      <div class="d-none d-sm-block">
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(false, carouselOffline)">
          <i class="fas fa-angle-left"></i>
        </button>
      </div>
      <div id="carousel" class="overflow-hidden flex-grow-1" #carouselOffline>
        <div class="carousel-container d-flex gap-0 gap-sm-4">
          @if (loading) {
          @for (item of [1,2,3,4]; track item) {
          <app-program-loading></app-program-loading>
          }
          } @else {
          @for (item of onlineProgramData; track $index) {
          <span class="carousel-card">
            <app-program-card [data]="item" (clickDetail)="seeDetail($event)"></app-program-card>
          </span>
          }
          }
        </div>
      </div>
      <div class="d-none d-sm-block">
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(true, carouselOffline)">
          <i class="fas fa-angle-right"></i>
        </button>
      </div>
    </div>
  </div>

  <div class="row mt-5 justify-content-between align-items-center" id="why-we">
    <div class="col-md-5 d-flex flex-column justify-content-center">
      <h4 class="text-uppercase mb-3">WHY we english?</h4>
      <div class="border border-success shadow-sm p-3 rounded-4 mb-3 text-black" style="text-decoration: none;" (click)="selectedWEEnglish = 'button_1'">
        <img src="assets/images/icons/party.svg" alt="icon">
        <b class="ms-3">{{heroData.button_1?.value}}</b>
        <p *ngIf="selectedWEEnglish == 'button_1'" class="mt-3">{{heroData.button_1?.description}}</p>
      </div>
      <div class="shadow-sm p-3 rounded-4 mb-3 text-black" style="background-color: #89DE8E1A; text-decoration: none;" (click)="selectedWEEnglish = 'button_2'">
        <img src="assets/images/icons/social-justice.svg" alt="icon">
        <b class="ms-3">{{heroData.button_2?.value}}</b>
        <p *ngIf="selectedWEEnglish == 'button_2'" class="mt-3">{{heroData.button_2?.description}}</p>
      </div>
      <div class="border border-success s hadow-sm p-3 rounded-4 mb-3 text-black" style="text-decoration: none;" (click)="selectedWEEnglish = 'button_3'">
        <img src="assets/images/icons/support.svg" alt="icon">
        <b class="ms-3">{{heroData.button_3?.value}}</b>
        <p *ngIf="selectedWEEnglish == 'button_3'" class="mt-3">{{heroData.button_3?.description}}</p>
      </div>
    </div>
    <div class="col-md-6">
      <img class="w-100 rounded-4" [src]="heroData[selectedWEEnglish]?.image_url | imageUrl" alt="images">
    </div>
  </div>

  <div class="mt-5 d-flex align-items-center">
    <div class="overflow-hidden d-flex align-items-center">
      <div class="carousel d-flex w-100" #galleryCarouselContainer>
        <div class="row m-0" style="flex: 0 0 100%;" *ngFor="let item of videoGalleryData">
          <div class="col-md-4">
            <span class="fs-3"><b>{{galleryCarousel + 1}}/</b><sub>{{videoGalleryData.length}}</sub></span>
            <h4 class="mt-5 mb-3">{{item.title}}</h4>
            <b class="mt-1">“{{item.subtitle}}”</b>
            <p class="mt-3">{{item.message}}</p>
            <span class="text-secondary">{{item.participant_name}} <br> {{item.program_name}}</span>
          </div>
          <div class="col-md-8">
            <input type="checkbox" #checkbox class="d-none">
            <div id="video-box" class="rounded-4 position-relative overflow-hidden"
              style="background-image: url({{item.thumbnail_url | imageUrl}}); height: 449px; background-position: center; background-size: cover;">
              @if (!checkbox.checked) {
              <div class="position-absolute bg-dark opacity-50 w-100 h-100"></div>
              <div class="position-absolute d-flex justify-content-center align-items-center w-100 h-100">
                <div class="">
                  <button class="btn btn-light rounded-circle" style="width: 80px; height: 80px;"
                    (click)="checkbox.checked = true"><i class="fas fa-play fs-4"></i></button>
                </div>
              </div>
              <div class="position-absolute fw-bold text-white fs-3" style="bottom: 30px; left: 30px;">{{item.title}}
              </div>
              } @else {
              <iframe class="w-100 h-100" height="345" [src]="getVideoURL(item.video_url)" frameborder="10"></iframe>
              }
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex justify-content-end gap-3 mt-3">
    <span>
      <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
        (click)="scrollGalleryCarousel(false)">
        <i class="fas fa-angle-left"></i>
      </button>
    </span>
    <span>
      <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
        (click)="scrollGalleryCarousel(false)">
        <i class="fas fa-angle-right"></i>
      </button>
    </span>
  </div>

  <div class="my-5" id="testimoni">
    <h4 class="fw-bold text-center">Apa Kata Mereka?</h4>
    <p class="text-center">Berikut testimoni dari mereka yang telah bergabung bersama Kampung Inggris WE</p>
    <div class="d-flex align-items-center gap-1 mt-3">
      <div class="d-none d-sm-block">
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(false, testimonialCarousel)">
          <i class="fas fa-angle-left"></i>
        </button>
      </div>
      <div class="flex-grow-1 overflow-hidden" #testimonialCarousel>
        <div class="d-flex">
          <div style="flex: 1 0 100%;" *ngFor="let item of testimonialData">
            <div class="row w-100 g-0">
              <div class="col-md-8 px-md-5 py-2">
                <h4 class="fw-bold d-inline me-3">{{item.name}}</h4>
                <span class="text-warning h4 text-nowrap">
                  <i class="fas fa-star" *ngFor="let item of createArrayStars(item.rating)"></i>
                </span>
                <p class="my-3">“{{item.message}}“</p>
                <div class="d-flex justify-content-between align-items-center flex-wrap mb-3">
                  <span>
                    <p class="mb-0">{{item.profession}}
                    <p>{{item.program_name}}</p>
                  </span>
                  <span class="text-success" style="cursor: pointer;" (click)="openUrl(item.video_url)">Tonton Video <i
                      class="fas fa-arrow-right"></i></span>
                </div>
              </div>
              <div class="col-md-4 px-2 d-flex justify-content-center align-items-center">
                <img width="231" height="231" class="object-fit-cover rounded-circle" style="aspect-ratio: 1/1;"
                  [src]="item.image_url | imageUrl" alt="image">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="d-none d-sm-block">
        <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
          (click)="scrollCarousel(true, testimonialCarousel)">
          <i class="fas fa-angle-right"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="d-flex d-sm-none justify-content-end gap-3">
    <div>
      <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
        (click)="scrollCarousel(false, testimonialCarousel)">
        <i class="fas fa-angle-left"></i>
      </button>
    </div>
    <div>
      <button class="btn btn-outline-success rounded-circle" style="width: 40px; height: 40px;"
        (click)="scrollCarousel(true, testimonialCarousel)">
        <i class="fas fa-angle-right"></i>
      </button>
    </div>
  </div>

</div>
